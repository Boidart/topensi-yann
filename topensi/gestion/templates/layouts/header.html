{% load static %}

{% block header %}
<!-- Modal -->
<header>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a class="navbar-brand" href="#"><div style="background-image: url('{% static 'img/logo.png' %}'); width:50px;height:50px; background-size: cover;"></div></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item {% if request.path == "/" %}active{% endif %}">
            <a class="nav-link" href="/">Accueil <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item {% if request.path == "/add/" %}active{% endif %}">
            <a class="nav-link" href="/add">Ajouter client</a>
          </li>
          <li class="nav-item {% if request.path == "/update/" %}active{% endif %}">
            <a class="nav-link" href="/update">Mise à jour</a>
          </li>
          <li class="nav-item {% if request.path == "/recurrent/" %}active{% endif %}">
            <a class="nav-link" href="/recurrent">Récurrent</a>
          </li>
        </ul>
        <div class="btn-toolbar">
          {% if user.is_authenticated %}<button class="btn btn-primary my-2 my-sm-0 mr-1" onclick="location.href='/export/'" data-toggle="modal" data-target="#loginModal">Exporter</button>{% endif %}
          <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal">
            Connexion
          </button>
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form method="post" id="login" action="/login/"> {% csrf_token %}
                    <div class="form-group">
                      <label for="exampleInputEmail1">Nom d'utilisateur</label>
                      <input name="username" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter votre nom d'utilisateur">
                    </div>
                    <div class="form-group">
                      <label for="exampleInputPassword1">Password</label>
                      <input name="password" type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button"  class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                  <button type="submit" form="login" class="btn btn-primary">Connexion</button>
                </div>
              </div>
            </div>
          </div>          
        </div>
      </div>
    </nav>
  </header>

{% endblock %}